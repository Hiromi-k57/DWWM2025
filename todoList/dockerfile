# Image PHP+Apache avec extensions GD et PDO_MySQL, mod_rewrite activé et port 80 exposé
# PHP+Apache公式イメージを使う,画像処理GD/PDO_MySQL拡張＋mod_rewrite有効化＋80番ポート公開
FROM php:8.3.20-apache

RUN apt-get update && apt-get install -y \
    libfreetype6-dev \
    libjpeg62-turbo-dev \
    libpng-dev \
    && docker-php-ext-configure gd --with-freetype --with-jpeg \
    && docker-php-ext-install gd pdo_mysql

RUN a2enmod rewrite

EXPOSE 80